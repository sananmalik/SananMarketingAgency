<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sanan Marketing | Enterprise Portal</title>
    <meta name="description" content="Advanced Marketing Dashboard & Agency Portfolio">

    <!-- FONTS -->
    <link href="https://api.fontshare.com/v2/css?f[]=clash-display@200,400,500,600,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- TAILWIND CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class', // Manual toggle
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Clash Display', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        primary: '#7c3aed', 
                        secondary: '#3b82f6', 
                        accent: '#B8FF01',
                        dark: '#050505',
                        light: '#F3F4F6'
                    },
                    animation: {
                        'float': 'float 20s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translate(0px, 0px)' },
                            '50%': { transform: 'translate(20px, -20px)' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- REACT ECOSYSTEM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* Base Transitions */
        body { transition: background-color 0.3s ease, color 0.3s ease; }
        
        /* Glassmorphism Utility */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .light .glass {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        /* Grid Background */
        .tech-grid {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, rgba(128, 128, 128, 0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(128, 128, 128, 0.05) 1px, transparent 1px);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #555; border-radius: 10px; }
    </style>
</head>
<body class="bg-dark text-white antialiased selection:bg-accent selection:text-black">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useContext, createContext, useReducer, useRef } = React;
        const { motion, AnimatePresence } = window.Motion;

        // --- 1. STATE MANAGEMENT (Redux Pattern) ---
        
        // Theme Context
        const ThemeContext = createContext();
        const ThemeProvider = ({ children }) => {
            const [theme, setTheme] = useState("dark");
            
            useEffect(() => {
                const root = window.document.documentElement;
                const body = document.body;
                if (theme === "dark") {
                    root.classList.add("dark");
                    body.classList.replace("bg-light", "bg-dark");
                    body.classList.replace("text-gray-900", "text-white");
                } else {
                    root.classList.remove("dark");
                    body.classList.replace("bg-dark", "bg-light");
                    body.classList.replace("text-white", "text-gray-900");
                }
            }, [theme]);

            return (
                <ThemeContext.Provider value={{ theme, toggleTheme: () => setTheme(theme === "dark" ? "light" : "dark") }}>
                    {children}
                </ThemeContext.Provider>
            );
        };

        // Auth Context (Simulating JWT)
        const AuthContext = createContext();
        const AuthProvider = ({ children }) => {
            const [user, setUser] = useState(null);
            
            // Check for existing session
            useEffect(() => {
                const token = localStorage.getItem("sanan_token");
                if (token) setUser({ name: "Admin User", role: "CEO" });
            }, []);

            const login = (email, password) => {
                // Simulate API Call
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (password === "admin") { // Simple mock validation
                            const fakeToken = "jwt_ey123456789";
                            localStorage.setItem("sanan_token", fakeToken);
                            setUser({ name: "Admin User", role: "CEO" });
                            resolve(true);
                        } else {
                            reject("Invalid credentials (try password: admin)");
                        }
                    }, 1000);
                });
            };

            const logout = () => {
                localStorage.removeItem("sanan_token");
                setUser(null);
            };

            return (
                <AuthContext.Provider value={{ user, login, logout }}>
                    {children}
                </AuthContext.Provider>
            );
        };

        // --- 2. UI COMPONENTS ---

        // Custom Live Chart (SVG based, no heavy library)
        const LiveChart = () => {
            const [data, setData] = useState(Array.from({ length: 20 }, () => Math.floor(Math.random() * 50) + 20));

            useEffect(() => {
                const interval = setInterval(() => {
                    setData(prev => {
                        const next = [...prev.slice(1), Math.floor(Math.random() * 50) + 20];
                        return next;
                    });
                }, 1000); // Real-time update every second
                return () => clearInterval(interval);
            }, []);

            // Convert data to SVG path
            const max = Math.max(...data);
            const points = data.map((d, i) => `${i * (100 / (data.length - 1))},${100 - (d / max) * 100}`).join(" ");

            return (
                <div className="w-full h-48 relative overflow-hidden">
                    <svg viewBox="0 0 100 100" preserveAspectRatio="none" className="w-full h-full overflow-visible">
                        <defs>
                            <linearGradient id="chartGradient" x1="0" x2="0" y1="0" y2="1">
                                <stop offset="0%" stopColor="#7c3aed" stopOpacity="0.5" />
                                <stop offset="100%" stopColor="#7c3aed" stopOpacity="0" />
                            </linearGradient>
                        </defs>
                        <motion.path
                            d={`M0,100 ${points} L100,100 Z`}
                            fill="url(#chartGradient)"
                            animate={{ d: `M0,100 ${points} L100,100 Z` }}
                            transition={{ ease: "linear", duration: 1 }}
                        />
                        <motion.polyline
                            fill="none"
                            stroke="#7c3aed"
                            strokeWidth="2"
                            points={points}
                            vectorEffect="non-scaling-stroke"
                            animate={{ points }}
                            transition={{ ease: "linear", duration: 1 }}
                        />
                    </svg>
                    <div className="absolute top-2 right-2 flex items-center gap-2">
                        <span className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                        <span className="text-xs font-mono text-gray-500">LIVE DATA</span>
                    </div>
                </div>
            );
        };

        const Button = ({ children, onClick, variant = "primary", className, type = "button" }) => {
            const base = "px-6 py-3 rounded-xl font-bold transition-all duration-300 transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed";
            const variants = {
                primary: "bg-primary text-white hover:bg-violet-600 shadow-[0_0_20px_rgba(124,58,237,0.3)]",
                secondary: "bg-white text-black hover:bg-gray-200",
                outline: "border border-white/20 hover:border-accent hover:text-accent bg-transparent"
            };
            return <button type={type} onClick={onClick} className={`${base} ${variants[variant]} ${className}`}>{children}</button>;
        };

        const ThemeToggle = () => {
            const { theme, toggleTheme } = useContext(ThemeContext);
            return (
                <button onClick={toggleTheme} className="p-2 rounded-full hover:bg-gray-800/20 transition" aria-label="Toggle Theme">
                    {theme === 'dark' ? 
                        <i data-lucide="sun" className="w-5 h-5 text-yellow-400"></i> : 
                        <i data-lucide="moon" className="w-5 h-5 text-gray-600"></i>
                    }
                </button>
            );
        };

        // --- 3. PAGES ---

        const Dashboard = () => {
            const { logout, user } = useContext(AuthContext);
            const stats = [
                { label: "Total Revenue", val: "$124,500", change: "+12%", icon: "dollar-sign" },
                { label: "Active Clients", val: "45", change: "+3", icon: "users" },
                { label: "Campagin ROI", val: "420%", change: "+5%", icon: "trending-up" },
            ];

            return (
                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="pt-24 px-6 max-w-7xl mx-auto min-h-screen">
                    <header className="flex justify-between items-center mb-12">
                        <div>
                            <h1 className="text-3xl font-display font-bold">Welcome back, {user.name}</h1>
                            <p className="text-gray-400">Here's what's happening with your agency today.</p>
                        </div>
                        <Button variant="outline" onClick={logout} className="text-sm py-2">Sign Out</Button>
                    </header>

                    {/* Stats Grid */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        {stats.map((s, i) => (
                            <motion.div 
                                key={i}
                                initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ delay: i * 0.1 }}
                                className="glass p-6 rounded-2xl dark:border-white/10 border-black/5"
                            >
                                <div className="flex justify-between items-start mb-4">
                                    <div className="p-3 bg-primary/20 rounded-lg text-primary">
                                        <i data-lucide={s.icon}></i>
                                    </div>
                                    <span className="text-green-500 text-sm font-bold bg-green-500/10 px-2 py-1 rounded">{s.change}</span>
                                </div>
                                <h3 className="text-3xl font-bold mb-1">{s.val}</h3>
                                <p className="text-sm text-gray-500 dark:text-gray-400">{s.label}</p>
                            </motion.div>
                        ))}
                    </div>

                    {/* Main Content Grid */}
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        {/* Chart Section */}
                        <div className="lg:col-span-2 glass p-8 rounded-2xl dark:border-white/10 border-black/5">
                            <div className="flex justify-between items-center mb-6">
                                <h3 className="text-xl font-bold">Real-Time Performance</h3>
                                <select className="bg-transparent border border-gray-600 rounded px-2 py-1 text-sm outline-none">
                                    <option>Live</option>
                                    <option>24h</option>
                                </select>
                            </div>
                            <LiveChart />
                        </div>

                        {/* Recent Activity */}
                        <div className="glass p-8 rounded-2xl dark:border-white/10 border-black/5">
                            <h3 className="text-xl font-bold mb-6">Recent Activity</h3>
                            <ul className="space-y-4">
                                {[
                                    { user: "Sarah K.", action: "New Lead Generated", time: "2m ago" },
                                    { user: "System", action: "SEO Audit Completed", time: "15m ago" },
                                    { user: "Mike R.", action: "Campaign Launched", time: "1h ago" },
                                    { user: "System", action: "Server Backup", time: "3h ago" }
                                ].map((item, i) => (
                                    <li key={i} className="flex items-center gap-4 text-sm">
                                        <div className="w-8 h-8 rounded-full bg-gradient-to-tr from-primary to-secondary flex items-center justify-center text-xs font-bold text-white">
                                            {item.user[0]}
                                        </div>
                                        <div>
                                            <div className="font-bold">{item.action}</div>
                                            <div className="text-gray-500 text-xs">{item.time}</div>
                                        </div>
                                    </li>
                                ))}
                            </ul>
                        </div>
                    </div>
                </motion.div>
            );
        };

        const Login = ({ setView }) => {
            const { login } = useContext(AuthContext);
            const [isLoading, setIsLoading] = useState(false);
            const [error, setError] = useState("");

            const handleSubmit = async (e) => {
                e.preventDefault();
                setIsLoading(true);
                setError("");
                const email = e.target.email.value;
                const password = e.target.password.value;
                
                try {
                    await login(email, password);
                } catch (err) {
                    setError(err);
                    setIsLoading(false);
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center px-4 relative">
                    {/* Background Noise for Effect */}
                    <div className="absolute inset-0 z-[-1] tech-grid opacity-30"></div>
                    
                    <motion.div 
                        initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }}
                        className="glass p-8 md:p-12 rounded-3xl w-full max-w-md border dark:border-white/10 border-black/5 shadow-2xl"
                    >
                        <div className="text-center mb-8">
                            <h2 className="text-3xl font-display font-bold mb-2">Client Portal</h2>
                            <p className="text-gray-500 text-sm">Access your agency metrics securely.</p>
                        </div>

                        <form onSubmit={handleSubmit} className="space-y-6">
                            <div>
                                <label className="block text-xs font-bold uppercase tracking-wider mb-2 text-gray-500">Email</label>
                                <input name="email" type="email" required className="w-full bg-black/5 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none focus:border-primary transition" placeholder="you@company.com" />
                            </div>
                            <div>
                                <label className="block text-xs font-bold uppercase tracking-wider mb-2 text-gray-500">Password</label>
                                <input name="password" type="password" required className="w-full bg-black/5 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none focus:border-primary transition" placeholder="••••••••" />
                            </div>
                            
                            {error && <div className="text-red-500 text-sm text-center bg-red-500/10 p-2 rounded">{error}</div>}

                            <Button type="submit" className="w-full py-4 relative" disabled={isLoading}>
                                {isLoading ? "Authenticating..." : "Secure Login"}
                            </Button>
                        </form>
                        
                        <div className="mt-6 text-center">
                            <button onClick={() => setView('home')} className="text-sm text-gray-500 hover:text-primary transition">← Back to Website</button>
                        </div>
                    </motion.div>
                </div>
            );
        };

        const Home = ({ setView }) => {
            return (
                <div className="relative">
                     {/* Floating Background */}
                     <div className="fixed inset-0 z-[-1] overflow-hidden pointer-events-none">
                        <div className="absolute top-[-10%] left-[-10%] w-[800px] h-[800px] bg-primary/20 rounded-full blur-[120px] animate-float opacity-40"></div>
                        <div className="absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] bg-accent/10 rounded-full blur-[120px] animate-float opacity-30"></div>
                    </div>

                    <nav className="fixed w-full z-50 px-6 py-4 flex justify-between items-center glass border-b border-white/5">
                        <div className="text-2xl font-display font-bold">SANAN<span className="text-primary">.</span></div>
                        <div className="flex items-center gap-6">
                            <div className="hidden md:flex gap-6 text-sm font-medium">
                                <a href="#services" className="hover:text-primary transition">Services</a>
                                <a href="#work" className="hover:text-primary transition">Work</a>
                            </div>
                            <div className="flex items-center gap-4">
                                <ThemeToggle />
                                <Button onClick={() => setView('login')} variant="secondary" className="px-5 py-2 text-xs">Client Login</Button>
                            </div>
                        </div>
                    </nav>

                    <section className="min-h-screen flex flex-col items-center justify-center text-center px-4 pt-20">
                        <motion.div initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ duration: 0.8 }}>
                            <span className="px-3 py-1 rounded-full border border-primary/30 bg-primary/10 text-primary text-xs font-bold uppercase tracking-widest mb-6 inline-block">
                                Marketing Evolved
                            </span>
                            <h1 className="text-6xl md:text-9xl font-display font-bold tracking-tighter mb-8 leading-none">
                                SANAN
                            </h1>
                            <p className="text-xl md:text-2xl text-gray-500 max-w-2xl mx-auto mb-10">
                                The high-performance agency for brands that refuse to settle. Data-driven growth meets world-class design.
                            </p>
                            <div className="flex gap-4 justify-center">
                                <Button onClick={() => setView('login')}>Get Started</Button>
                                <Button variant="outline">View Work</Button>
                            </div>
                        </motion.div>
                    </section>
                </div>
            );
        };

        // --- 4. MAIN APP CONTROLLER ---

        const App = () => {
            const { user } = useContext(AuthContext);
            const [view, setView] = useState("home"); // home, login

            useEffect(() => {
                lucide.createIcons();
            }, [view, user]);

            // Simple Routing Logic
            if (user) {
                return <Dashboard />;
            }
            if (view === "login") {
                return <Login setView={setView} />;
            }
            return <Home setView={setView} />;
        };

        // --- 5. ROOT RENDER ---
        
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(
            <AuthProvider>
                <ThemeProvider>
                    <App />
                </ThemeProvider>
            </AuthProvider>
        );
    </script>
</body>
</html>
